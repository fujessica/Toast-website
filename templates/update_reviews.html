{% extends 'layout.html' %}
{% block main -%}

    <script>
        function fetchReview(){
            var e = document.getElementById("review");
            document.getElementById("text").value = e.options[e.selectedIndex].getAttribute("review");
        }
    </script>

    <div class="createRevGridContainer">
    <h1 class="updatereviewheading">Update review</h1>
    <form name="Toast Reviewed" method="post">
        <label>Select Toast</label>
        <br>
        <select id="review" name="toast_id" onchange="fetchReview()" class="selecttoast">
            {% for toast in toasts %}
            <option value="{{ toast[0] }}" review="{{ toast[2] }}" SELECTED>{{ toast[1] }}</option>
            {% endfor %}
        </select>
        <br>
        <textarea name="review" id="text" maxlength="800">{{toasts[-1][2]}}</textarea>
        <br>
        <input type="submit" value="submit" class="signupbutton">
        <br>
        Review must be under 800 characters
        {% with messages = get_flashed_messages() %}
        {% if messages%}
        <ul>
        {% for message in messages%}
        <p>{{message}}</p>
        {%endfor%}
        </ul>
        {%endif%}
        {%endwith%}
    </form>
    </div>
{%- endblock %}
